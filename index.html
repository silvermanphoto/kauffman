<!DOCTYPE html>
<html lang="en" style="height: 100%;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leaflet Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <style>
        body, html {
            height: 100%;
            margin: 0;
        }
        #map {
            width: 100%;
            height: 100%;
        }
        .leaflet-top.leaflet-left {
            padding: 10px;
        }
        #opacity-slider {
            width: 150px;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    
    <script>
        // Shifting the latitude 1/2 mile to the south
        var latitude = 33.78800672400097 - (1/2) / 69;
        var longitude = -84.37247933915121;

        // Set initial zoom level to 12
        var map = L.map('map', {
            zoomControl: false // Disable default zoom control
        }).setView([latitude, longitude], 12);

        // Adding OpenStreetMap as base layer
        var osmLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        });

        // Adding Satellite view as another base layer
        var satelliteLayer = L.tileLayer('https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}', {
            attribution: '&copy; <a href="https://www.google.com/maps">Google Maps</a>',
            subdomains: ['mt0', 'mt1', 'mt2', 'mt3']
        }).addTo(map); // Adding this layer by default

        // Adding Kauffman Atlanta 1921 overlay (visible by default)
        var kauffmanOverlay = L.tileLayer('https://mapwarper.net/maps/tile/74063/{z}/{x}/{y}.png').addTo(map);

        // Adding two additional overlays (not visible by default)
        var additionalOverlay1 = L.tileLayer('https://mapwarper.net/maps/tile/74064/{z}/{x}/{y}.png');
        var additionalOverlay2 = L.tileLayer('https://mapwarper.net/maps/tile/5034/{z}/{x}/{y}.png');

        // Adding layer control
        var baseMaps = {
            "OpenStreetMap": osmLayer,
            "Satellite View": satelliteLayer
        };

        var overlayMaps = {
            "Kauffman Atlanta 1921": kauffmanOverlay,
            "Additional Map 1": additionalOverlay1,
            "Additional Map 2": additionalOverlay2
        };

        L.control.layers(baseMaps, overlayMaps).addTo(map);

        // Add a new zoom control at the top left corner
        L.control.zoom({ position: 'topleft' }).addTo(map);

        // Add an opacity slider
        var slider = L.control({ position: 'topleft' });
        slider.onAdd = function (map) {
            var div = L.DomUtil.create('div', 'info');
            div.innerHTML += '<label>Overlay Opacity: <input id="opacity-slider" type="range" min="0" max="1" step="0.1" value="1"></label>';
            return div;
        };
        slider.addTo(map);

        // Listen to the slider's change event to update the overlay's opacity
        document.getElementById('opacity-slider').addEventListener('input', function() {
            kauffmanOverlay.setOpacity(this.value);
        });
    </script>
</body>
</html>
